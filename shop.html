<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Ngá»c Becon Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{--pink:#ff4fa3}
*{box-sizing:border-box;font-family:Segoe UI,Arial}
body{margin:0;background:radial-gradient(circle,#3a0045,#0b0010);color:#fff}
.hidden{display:none}
button{cursor:pointer}

/* HEADER */
header{
position:sticky;top:0;z-index:5;
background:linear-gradient(90deg,#ff4fa3,#ff77b7);
padding:12px;
display:flex;align-items:center;justify-content:space-between
}
.menu-btn{font-size:22px}

/* SIDE MENU */
#sideMenu{
position:fixed;left:0;top:0;width:260px;height:100%;
background:#16001d;padding:20px;z-index:10
}
#sideMenu button{
width:100%;margin:8px 0;padding:12px;
border:none;border-radius:12px;
background:#ff4fa3;color:#fff;font-weight:bold
}

/* CONTENT */
.container{max-width:1100px;margin:auto;padding:20px}
.card{background:#16001d;padding:20px;border-radius:20px;margin-bottom:20px}
select,input{padding:10px;border-radius:10px;border:none;margin:6px 0;width:100%}

/* LOGIN */
.auth{max-width:360px;margin:120px auto;background:#16001d;padding:24px;border-radius:20px;text-align:center}
.auth input,.auth button{
width:100%;padding:14px;margin-top:12px;border-radius:14px;border:none
}
.auth button{background:linear-gradient(90deg,#ff4fa3,#ff77b7);color:#fff}

/* CHAT */
#chatBtn{
position:fixed;right:20px;bottom:20px;
background:#ff4fa3;padding:14px 18px;
border-radius:999px;z-index:20
}
#chatBox{
position:fixed;right:20px;bottom:80px;
width:340px;height:460px;background:#0f0014;
border-radius:20px;display:flex;flex-direction:column;z-index:20
}
.chat-header{
background:#ff4fa3;
padding:10px;
display:flex;
align-items:center;
gap:10px
}
.cskh-avatar{
width:36px;height:36px;
border-radius:50%;
background:#fff;
color:#ff4fa3;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold
}
.typing{font-size:12px;opacity:.7}
#chatContent{flex:1;overflow:auto;padding:10px}
.msg{margin:6px 0}
.user{text-align:right}
.bubble{
display:inline-block;
padding:10px 14px;
border-radius:18px;
background:#333;
max-width:75%
}
.user .bubble{background:#ff4fa3}
.chat-input{display:flex;gap:6px;padding:8px}
.chat-input input{
flex:1;
padding:10px;
border-radius:20px;
border:none
}

/* MUSIC */
#musicBtn{
position:fixed;left:20px;bottom:20px;
width:48px;height:48px;
border-radius:50%;
background:#ff4fa3;color:#fff;
display:flex;align-items:center;justify-content:center;
font-size:22px;z-index:20
}

/* PC Ä‘áº¹p hÆ¡n */
@media(min-width:768px){
#chatBox{width:380px;height:520px}
.bubble{font-size:15px}
}
</style>
</head>

<body>

<audio id="bgMusic" src="music.mp3" loop></audio>

<!-- LOGIN -->
<div id="auth" class="auth">
<h2>ğŸ° Ngá»c Becon Shop</h2>
<input id="user" placeholder="TÃ i khoáº£n">
<input id="pass" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ÄÄƒng nháº­p</button>
</div>

<header id="header" class="hidden">
<div class="menu-btn" onclick="toggleMenu()">â˜°</div>
<b>Sá»‘ dÆ°: <span id="money">0Ä‘</span></b>
</header>

<div id="sideMenu" class="hidden">
<button onclick="showPage('nap')">ğŸ’³ Náº¡p tháº»</button>
<button onclick="showPage('blox')">ğŸ CÃ y Blox Fruit</button>
<button onclick="showPage('ff')">ğŸ”¥ CÃ y Free Fire</button>
<button onclick="showPage('lq')">âš”ï¸ CÃ y LiÃªn QuÃ¢n</button>
<button onclick="showPage('orders')">ğŸ“¦ ÄÆ¡n cá»§a tÃ´i</button>
<button onclick="toggleMenu()">âŒ ÄÃ³ng</button>
</div>

<div class="container hidden" id="shop">

<div id="nap" class="card hidden">
<h3>ğŸ’³ Náº¡p tháº» cÃ o (trá»« 17%)</h3>
<select id="amount">
<option value="10000">10.000</option>
<option value="20000">20.000</option>
<option value="50000">50.000</option>
<option value="100000">100.000</option>
<option value="200000">200.000</option>
<option value="500000">500.000</option>
<option value="1000000">1.000.000</option>
</select>
<button onclick="napCard()">Náº P NGAY</button>
</div>

<div id="blox" class="card hidden">
<h3>ğŸ Blox Fruit</h3>
<select id="bloxPack">
<option>Level 1â€“700 (10k)</option>
<option>Level 700â€“1500 (10k)</option>
<option>Haki 7 mÃ u (20k)</option>
<option>Gear V4 Full (40k)</option>
</select>
<button onclick="order('Blox Fruit',bloxPack.value)">Äáº¶T ÄÆ N</button>
</div>

<div id="ff" class="card hidden">
<h3>ğŸ”¥ Free Fire</h3>
<select id="ffPack">
<option>Äá»“ng â†’ Huyá»n Thoáº¡i (40k)</option>
<option>Huyá»n Thoáº¡i â†’ Cao Thá»§ (60k)</option>
<option>Cao Thá»§ 100â­ (100k)</option>
</select>
<button onclick="order('Free Fire',ffPack.value)">Äáº¶T ÄÆ N</button>
</div>

<div id="lq" class="card hidden">
<h3>âš”ï¸ LiÃªn QuÃ¢n</h3>
<select id="lqPack">
<option>Äá»“ng â†’ BK5 (250k)</option>
<option>BK5 â†’ KC5 (250k)</option>
<option>KC5 â†’ TA5 (300k)</option>
<option>TA5 â†’ CT1â­ (350k)</option>
</select>
<button onclick="order('LiÃªn QuÃ¢n',lqPack.value)">Äáº¶T ÄÆ N</button>
</div>

<div id="orders" class="card hidden">
<h3>ğŸ“¦ ÄÆ¡n cá»§a tÃ´i</h3>
<div id="orderList"></div>
</div>

</div>

<div id="chatBtn" onclick="toggleChat()">ğŸ° CSKH</div>

<div id="chatBox" class="hidden">
<div class="chat-header">
<div class="cskh-avatar">ğŸ°</div>
<div>
<div>CSKH Ngá»c Becon</div>
<div id="typing" class="typing hidden">CSKH Ä‘ang nháº­pâ€¦</div>
</div>
</div>
<div id="chatContent"></div>
<div class="chat-input">
<input id="chatMsg" placeholder="Nháº¯n tin CSKH">
<button onclick="sendText()">â¤</button>
</div>
</div>

<div id="musicBtn" onclick="toggleMusic()">ğŸµ</div>

<script>
let DB=JSON.parse(localStorage.getItem("SHOP"))||{users:{},orders:[]}
let cur=null
let music=document.getElementById("bgMusic")

function save(){localStorage.setItem("SHOP",JSON.stringify(DB))}
function chatKey(){return "CHAT_"+cur}

/* LOGIN */
function login(){
let u=user.value,p=pass.value
if(!DB.users[u]) DB.users[u]={pass:p,money:0}
if(DB.users[u].pass!==p) return alert("Sai máº­t kháº©u")
cur=u
auth.classList.add("hidden")
header.classList.remove("hidden")
shop.classList.remove("hidden")
money.innerText=DB.users[u].money+"Ä‘"
music.play().catch(()=>{})
showPage("nap")
loadChat()
}

/* MENU */
function toggleMenu(){sideMenu.classList.toggle("hidden")}
function showPage(id){
document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"))
document.getElementById(id).classList.remove("hidden")
sideMenu.classList.add("hidden")
renderOrders()
}

/* Náº P */
function napCard(){
let m=parseInt(amount.value)
let r=Math.floor(m*0.83)
DB.users[cur].money+=r
money.innerText=DB.users[cur].money+"Ä‘"
save()
alert("Náº¡p thÃ nh cÃ´ng +" + r + "Ä‘")
}

/* ORDER */
function order(game,pack){
DB.orders.push({user:cur,game,pack,time:new Date().toLocaleString()})
save()
renderOrders()
fakeCSKH()
}

/* ÄÆ N */
function renderOrders(){
orderList.innerHTML=""
DB.orders.filter(o=>o.user===cur).forEach(o=>{
orderList.innerHTML+=`
<div class="bubble">
<b>${o.game}</b><br>${o.pack}<br>ğŸ•’ ${o.time}
</div>`
})
}

/* CHAT */
function toggleChat(){
chatBox.classList.toggle("hidden")
if(!chatBox.classList.contains("hidden")) loadChat()
}

function loadChat(){
let d=JSON.parse(localStorage.getItem(chatKey())||"[]")
chatContent.innerHTML=""
d.forEach(m=>{
chatContent.innerHTML+=`<div class="msg ${m.by}"><div class="bubble">${m.text}</div></div>`
})
}

function saveChat(by,text){
let d=JSON.parse(localStorage.getItem(chatKey())||"[]")
d.push({by,text})
localStorage.setItem(chatKey(),JSON.stringify(d))
}

function sendText(){
if(!chatMsg.value) return
let t=chatMsg.value
chatMsg.value=""
chatContent.innerHTML+=`<div class="msg user"><div class="bubble">${t}</div></div>`
saveChat("user",t)
fakeCSKH()
}

function fakeCSKH(){
typing.classList.remove("hidden")
setTimeout(()=>{
typing.classList.add("hidden")
let r="CSKH Ä‘Ã£ nháº­n yÃªu cáº§u, vui lÃ²ng chá» xá»­ lÃ½ ğŸ’—"
chatContent.innerHTML+=`<div class="msg"><div class="bubble">${r}</div></div>`
saveChat("",r)
},1500)
}

/* MUSIC */
function toggleMusic(){music.paused?music.play():music.pause()}
</script>

</body>
</html>
