<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Ngá»c Becon Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{--pink:#ff4fa3}
*{box-sizing:border-box;font-family:Segoe UI,Arial}
body{margin:0;background:radial-gradient(circle,#3a0045,#0b0010);color:#fff}
.hidden{display:none}
button{cursor:pointer}

/* HEADER */
header{
position:sticky;top:0;z-index:5;
background:linear-gradient(90deg,#ff4fa3,#ff77b7);
padding:12px;
display:flex;align-items:center;justify-content:space-between
}
.menu-btn{font-size:22px}

/* SIDE MENU */
#sideMenu{
position:fixed;left:0;top:0;width:260px;height:100%;
background:#16001d;padding:20px;z-index:10;overflow:auto
}
#sideMenu button{
width:100%;margin:8px 0;padding:12px;
border:none;border-radius:12px;
background:#ff4fa3;color:#fff;font-weight:bold
}

/* CONTENT */
.container{max-width:1100px;margin:auto;padding:20px}
.card{background:#16001d;padding:20px;border-radius:20px;margin-bottom:20px}
select,input{padding:10px;border-radius:10px;border:none;margin:6px 0;width:100%}

/* AUTH */
.auth{max-width:360px;margin:120px auto;background:#16001d;padding:24px;border-radius:20px;text-align:center}
.auth input,.auth button{
width:100%;padding:14px;margin-top:12px;border-radius:14px;border:none
}
.auth button{background:linear-gradient(90deg,#ff4fa3,#ff77b7);color:#fff}

/* TABLE */
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #333;text-align:left;font-size:14px}

/* CHAT BUBBLE ICON */
#chatBtn{
position:fixed;
right:18px;
bottom:18px;
width:56px;
height:56px;
background:#ff4fa3;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:26px;
z-index:20;
box-shadow:0 0 18px rgba(255,79,163,.6);
}

/* CHAT BOX */
#chatBox{
position:fixed;
right:16px;
bottom:86px;
width:260px;
height:340px;
background:#0f0014;
border-radius:18px;
display:flex;
flex-direction:column;
z-index:20;
box-shadow:0 0 20px rgba(255,79,163,.35);
}

.chat-header{
background:#ff4fa3;
padding:10px;
font-weight:bold;
display:flex;
justify-content:space-between;
align-items:center;
}

.chat-header span{
cursor:pointer;
font-size:14px;
}

#chatContent{
flex:1;
overflow:auto;
padding:10px;
font-size:14px;
}

.msg{margin:6px 0}
.user{text-align:right}

.bubble{
display:inline-block;
padding:8px 12px;
border-radius:16px;
background:#333;
max-width:75%;
}

.user .bubble{background:#ff4fa3}

.chat-input{
display:flex;
gap:6px;
padding:8px;
}

.chat-input input{
flex:1;
padding:8px;
border-radius:20px;
border:none;
font-size:13px;
}
</style>
</head>

<body>

<audio src="music.mp3" autoplay loop></audio>

<!-- AUTH -->
<div id="auth" class="auth">
<h2>ğŸ° Ngá»c Becon Shop</h2>
<input id="user" placeholder="TÃ i khoáº£n">
<input id="pass" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ğŸ” ÄÄƒng nháº­p</button>
<hr style="margin:16px 0;border:1px solid #333">
<input id="regUser" placeholder="TÃ i khoáº£n má»›i">
<input id="regPass" type="password" placeholder="Máº­t kháº©u má»›i">
<button onclick="register()">ğŸ“ ÄÄƒng kÃ½</button>
</div>

<header id="header" class="hidden">
<div class="menu-btn" onclick="toggleMenu()">â˜°</div>
<b>Sá»‘ dÆ°: <span id="money">0Ä‘</span></b>
</header>

<div id="sideMenu" class="hidden">
<button onclick="showPage('nap')">ğŸ’³ Náº¡p tháº»</button>
<button onclick="showPage('napmomo')">ğŸ’— Náº¡p MoMo</button>
<button onclick="showPage('blox')">ğŸ Blox Fruit</button>
<button onclick="showPage('ff')">ğŸ”¥ Free Fire</button>
<button onclick="showPage('lq')">âš”ï¸ LiÃªn QuÃ¢n</button>
<button onclick="showPage('historyTopup')">ğŸ“œ Lá»‹ch sá»­ náº¡p</button>
<button onclick="showPage('historyOrder')">ğŸ“¦ Lá»‹ch sá»­ Ä‘Æ¡n</button>
<button onclick="toggleMenu()">âŒ ÄÃ³ng</button>
</div>

<div class="container hidden" id="shop">

<!-- Náº P THáºº -->
<div id="nap" class="card hidden">
<h3>ğŸ’³ Náº¡p tháº» cÃ o (trá»« 17%)</h3>
<select id="telco">
<option>Viettel</option>
<option>MobiFone</option>
<option>VinaPhone</option>
</select>
<select id="amount">
<option value="10000">10.000</option>
<option value="20000">20.000</option>
<option value="50000">50.000</option>
<option value="100000">100.000</option>
<option value="200000">200.000</option>
<option value="500000">500.000</option>
<option value="1000000">1.000.000</option>
</select>
<input id="seri" placeholder="Sá»‘ seri">
<input id="code" placeholder="MÃ£ tháº»">
<button onclick="napCard()">Náº P NGAY</button>
</div>

<!-- MOMO -->
<div id="napmomo" class="card hidden">
<h3>ğŸ’— Náº¡p MoMo</h3>
<img src="momo.jpg" style="width:100%;border-radius:16px">
<input value="MOMO_NGOCBECON" readonly>
<input id="momoAmount" placeholder="Nháº­p sá»‘ tiá»n">
<button onclick="napMoMo()">XÃC NHáº¬N ÄÃƒ CHUYá»‚N</button>
</div>

<!-- BLOX -->
<div id="blox" class="card hidden">
<h3>ğŸ Blox Fruit</h3>
<select id="bloxPack">
<option value="10000">Level 1â€“700 (10k)</option>
<option value="10000">Level 700â€“1500 (10k)</option>
<option value="10000">Mastery 1â€“300 (10k)</option>
<option value="20000">Haki 7 mÃ u (20k)</option>
<option value="40000">Gear V4 Full (40k)</option>
</select>
<button onclick="order('Blox Fruit',bloxPack)">Äáº¶T ÄÆ N</button>
</div>

<!-- FREE FIRE -->
<div id="ff" class="card hidden">
<h3>ğŸ”¥ Free Fire</h3>
<select id="ffPack">
<option value="40000">Äá»“ng â†’ Huyá»n Thoáº¡i (40k)</option>
<option value="60000">Huyá»n Thoáº¡i â†’ Cao Thá»§ (60k)</option>
<option value="100000">Cao Thá»§ 100â­ (100k)</option>
</select>
<button onclick="order('Free Fire',ffPack)">Äáº¶T ÄÆ N</button>
</div>

<!-- LIÃŠN QUÃ‚N -->
<div id="lq" class="card hidden">
<h3>âš”ï¸ LiÃªn QuÃ¢n</h3>
<select id="lqPack">
<option value="250000">Äá»“ng â†’ BK5 (250k)</option>
<option value="250000">BK5 â†’ KC5 (250k)</option>
<option value="300000">KC5 â†’ TA5 (300k)</option>
<option value="350000">TA5 â†’ CT1â­ (350k)</option>
</select>
<button onclick="order('LiÃªn QuÃ¢n',lqPack)">Äáº¶T ÄÆ N</button>
</div>

<!-- Lá»ŠCH Sá»¬ -->
<div id="historyTopup" class="card hidden">
<h3>ğŸ“œ Lá»‹ch sá»­ náº¡p</h3>
<table id="topupTable"></table>
</div>

<div id="historyOrder" class="card hidden">
<h3>ğŸ“¦ Lá»‹ch sá»­ Ä‘Æ¡n</h3>
<table id="orderTable"></table>
</div>

</div>

<!-- CHAT -->
<div id="chatBtn" onclick="toggleChat()">ğŸ° CSKH</div>
<div id="chatBox" class="hidden">
<div class="chat-header">CSKH Ngá»c Becon</div>
<div id="chatContent">
<div class="msg">
<div class="bubble">
ğŸ’¬ Facebook há»— trá»£:<br>
<a href="https://www.facebook.com/share/1Ga1MzY9Vs/" target="_blank" style="color:#ff77b7">ğŸ‘‰ Ngá»c Becon</a>
</div>
</div>
</div>
<div class="chat-input">
<input id="chatMsg" placeholder="Nháº¯n tin">
<button onclick="sendText()">â¤</button>
</div>
</div>

<script>
let DB=JSON.parse(localStorage.getItem("SHOP_DB"))||{users:{},orders:[],topups:[]}
let cur=null
function save(){localStorage.setItem("SHOP_DB",JSON.stringify(DB))}

function login(){
if(!DB.users[user.value]||DB.users[user.value].pass!==pass.value) return alert("Sai tÃ i khoáº£n hoáº·c máº­t kháº©u")
cur=user.value
auth.classList.add("hidden")
header.classList.remove("hidden")
shop.classList.remove("hidden")
money.innerText=DB.users[cur].money+"Ä‘"
}

function register(){
if(DB.users[regUser.value]) return alert("TÃ i khoáº£n Ä‘Ã£ tá»“n táº¡i")
DB.users[regUser.value]={pass:regPass.value,money:0}
save();alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng")
}

function toggleMenu(){sideMenu.classList.toggle("hidden")}
function showPage(id){
document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"))
document.getElementById(id).classList.remove("hidden")
sideMenu.classList.add("hidden")
if(id==="historyTopup") loadTopup()
if(id==="historyOrder") loadOrder()
}

function toggleChat(){
  chatBox.classList.toggle("hidden")
}

/* REP THEO GAME */
const gameReplies = [
  {
    keys:["blox","fruit"],
    replies:[
      "ğŸ Blox Fruit shop lÃ m nhanh trong ngÃ y nha báº¡n",
      "Blox Fruit bÃªn shop báº£o hÃ nh full gÃ³i luÃ´n áº¡ ğŸ’—",
      "Báº¡n chá»n gÃ³i Blox Fruit xong shop xá»­ lÃ½ liá»n nÃ¨ ğŸ°"
    ]
  },
  {
    keys:["free fire","ff"],
    replies:[
      "ğŸ”¥ Free Fire shop cÃ y an toÃ n â€“ khÃ´ng log nick áº¡",
      "ÄÆ¡n Free Fire Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½ cho báº¡n nha ğŸ’•",
      "FF bÃªn shop lÃ m Ä‘Ãºng rank cam káº¿t nÃ¨ âœ¨"
    ]
  },
  {
    keys:["liÃªn quÃ¢n","lq"],
    replies:[
      "âš”ï¸ LiÃªn QuÃ¢n shop Ä‘Ã¡nh tay 100% nha báº¡n",
      "ÄÆ¡n LiÃªn QuÃ¢n thÆ°á»ng xong trong 24h áº¡ ğŸ’–",
      "Shop Ä‘ang xá»­ lÃ½ rank LiÃªn QuÃ¢n cho báº¡n rá»“i nÃ¨ ğŸ°"
    ]
  },
  {
    keys:["náº¡p","nap","tháº»","card","momo"],
    replies:[
      "ğŸ’³ Náº¡p xong báº¡n chá» admin duyá»‡t giÃºp mÃ¬nh nha",
      "Shop Ä‘Ã£ nháº­n thÃ´ng tin náº¡p cá»§a báº¡n rá»“i áº¡ ğŸ’—",
      "MoMo shop kiá»ƒm tra liá»n cho báº¡n nÃ¨ âœ¨"
    ]
  }
]

const defaultReplies = [
  "Dáº¡ CSKH Ä‘Ã£ nháº­n tin nháº¯n cá»§a báº¡n rá»“i áº¡ ğŸ’•",
  "Báº¡n chá» shop xá»­ lÃ½ giÃºp mÃ¬nh nha ğŸ°",
  "Shop pháº£n há»“i sá»›m nháº¥t cho báº¡n nÃ¨ âœ¨"
]

function sendText(){
  let text = chatMsg.value.trim()
  if(!text) return

  chatContent.innerHTML += `
    <div class="msg user">
      <div class="bubble">${text}</div>
    </div>
  `
  chatMsg.value=""
  chatContent.scrollTop=chatContent.scrollHeight

  // typing
  let typing=document.createElement("div")
  typing.id="typing"
  typing.className="msg"
  typing.innerHTML=`<div class="bubble">CSKH Ä‘ang nháº­p...</div>`
  chatContent.appendChild(typing)

  let reply=null
  let lower=text.toLowerCase()

  for(let g of gameReplies){
    if(g.keys.some(k=>lower.includes(k))){
      reply=g.replies[Math.floor(Math.random()*g.replies.length)]
      break
    }
  }

  if(!reply){
    reply=defaultReplies[Math.floor(Math.random()*defaultReplies.length)]
  }

  setTimeout(()=>{
    let t=document.getElementById("typing")
    if(t) t.remove()
    chatContent.innerHTML+=`
      <div class="msg">
        <div class="bubble">${reply}</div>
      </div>
    `
    chatContent.scrollTop=chatContent.scrollHeight
  },1000+Math.random()*1500)
}

function order(game,sel){
DB.orders.push({
id:Date.now(),
user:cur,
game,
pack:sel.options[sel.selectedIndex].text,
price:+sel.value,
status:"pending",
time:new Date().toLocaleString()
})
save();alert("ÄÃ£ gá»­i Ä‘Æ¡n sang CSKH")
}

function napCard(){
let telco=telco.value
let amount=+amount.value
let seriVal=seri.value.trim()
let codeVal=code.value.trim()
if(!seriVal||!codeVal) return alert("Nháº­p Ä‘á»§ seri vÃ  mÃ£ tháº»")
DB.topups.push({
id:Date.now(),
user:cur,
type:"CARD",
amount,
status:"pending",
detail:{telco,seri:seriVal,code:codeVal},
time:new Date().toLocaleString()
})
save();alert("ÄÃ£ gá»­i tháº», chá» admin duyá»‡t")
}

function napMoMo(){
DB.topups.push({
id:Date.now(),
user:cur,
type:"MOMO",
amount:+momoAmount.value,
status:"pending",
time:new Date().toLocaleString()
})
save();alert("ÄÃ£ gá»­i xÃ¡c nháº­n MoMo")
}

function loadTopup(){
topupTable.innerHTML="<tr><th>Thá»i gian</th><th>Loáº¡i</th><th>Sá»‘ tiá»n</th><th>Tráº¡ng thÃ¡i</th></tr>"
DB.topups.filter(t=>t.user===cur).forEach(t=>{
topupTable.innerHTML+=`<tr><td>${t.time}</td><td>${t.type}</td><td>${t.amount}</td><td>${t.status}</td></tr>`
})
}

function loadOrder(){
orderTable.innerHTML="<tr><th>Thá»i gian</th><th>Game</th><th>GÃ³i</th><th>GiÃ¡</th><th>Tráº¡ng thÃ¡i</th></tr>"
DB.orders.filter(o=>o.user===cur).forEach(o=>{
orderTable.innerHTML+=`<tr><td>${o.time}</td><td>${o.game}</td><td>${o.pack}</td><td>${o.price}</td><td>${o.status}</td></tr>`
})
}
</script>

</body>
</html>
