<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN â€“ Ngá»c Becon</title>
<style>
body{background:#120016;color:#fff;font-family:Arial;padding:20px}
.card{background:#1c0026;padding:16px;border-radius:12px;margin-bottom:12px}
button{margin:4px;padding:8px 14px;border:none;border-radius:8px;cursor:pointer}
.ok{background:#00c853;color:#000}
.no{background:#ff1744;color:#fff}
</style>
</head>
<body>

<h2>ğŸ‘‘ ADMIN DUYá»†T ÄÆ N</h2>
<div id="list"></div>

<script>
let DB = JSON.parse(localStorage.getItem("SHOP")) || {users:{},orders:[]}

function save(){
  localStorage.setItem("SHOP",JSON.stringify(DB))
}

function load(){
  list.innerHTML=""
  DB.orders.forEach(o=>{
    if(o.status!=="pending") return
    list.innerHTML+=`
    <div class="card">
      <b>User:</b> ${o.user}<br>
      <b>Loáº¡i:</b> ${o.type}<br>
      <b>Sá»‘ tiá»n:</b> ${o.amount}<br>
      <b>Chi tiáº¿t:</b> ${o.info}<br><br>
      <button class="ok" onclick="duyet(${o.id})">Duyá»‡t</button>
      <button class="no" onclick="tuChoi(${o.id})">Tá»« chá»‘i</button>
    </div>`
  })
}

function duyet(id){
  let o = DB.orders.find(x=>x.id===id)
  if(!o) return
  if(o.type.includes("Náº¡p")){
    DB.users[o.user].money += o.amount
  }
  if(o.type==="CÃ y thuÃª"){
    DB.users[o.user].money -= o.amount
  }
  o.status="done"
  save()
  load()
}

function tuChoi(id){
  let o = DB.orders.find(x=>x.id===id)
  if(!o) return
  o.status="reject"
  save()
  load()
}

load()
</script>
</body>
</html>
