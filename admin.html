<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Admin Panel - Ngá»c Becon Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
margin:0;
font-family:Segoe UI,Arial;
background:#0b0010;
color:#fff
}
.hidden{display:none}
header{
background:linear-gradient(90deg,#ff4fa3,#ff77b7);
padding:16px;
text-align:center;
font-weight:bold;
font-size:20px
}
.container{padding:20px;max-width:1200px;margin:auto}
.card{
background:#16001d;
border-radius:16px;
padding:18px;
margin-bottom:22px;
box-shadow:0 0 25px rgba(255,79,163,.25)
}
h3{color:#ff77b7;margin-top:0}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #333;text-align:center}
th{color:#ff77b7}
button{
padding:8px 14px;
border:none;
border-radius:10px;
cursor:pointer;
font-weight:600
}
.ok{background:#2ecc71}
.no{background:#e74c3c}
.warn{background:#f1c40f;color:#000}
input{
padding:12px;
border-radius:10px;
border:none;
width:100%;
margin-top:10px
}
.login-box{
max-width:360px;
margin:120px auto;
text-align:center
}
</style>
</head>

<body>

<!-- ğŸ” LOGIN ADMIN -->
<div id="adminLogin" class="login-box card">
<h2>ğŸ” ADMIN LOGIN</h2>
<input id="adminUser" placeholder="TÃ i khoáº£n admin">
<input id="adminPass" type="password" placeholder="Máº­t kháº©u">
<button onclick="adminLogin()">ÄÄƒng nháº­p</button>
</div>

<!-- ğŸ›  ADMIN PANEL -->
<div id="adminPanel" class="hidden">

<header>ğŸ›  ADMIN PANEL â€“ NGá»ŒC BECON SHOP</header>

<div class="container">

<div class="card">
<h3>ğŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</h3>
<table>
<thead>
<tr><th>User</th><th>Sá»‘ dÆ°</th><th>Cá»™ng tiá»n</th></tr>
</thead>
<tbody id="userList"></tbody>
</table>
</div>

<div class="card">
<h3>ğŸ’³ Duyá»‡t náº¡p tiá»n</h3>
<table>
<thead>
<tr><th>MÃ£</th><th>User</th><th>Loáº¡i</th><th>Sá»‘ tiá»n</th><th>Tráº¡ng thÃ¡i</th><th>HÃ nh Ä‘á»™ng</th></tr>
</thead>
<tbody id="topupList"></tbody>
</table>
</div>

<div class="card">
<h3>ğŸ”¥ ÄÆ¡n cÃ y thuÃª</h3>
<table>
<thead>
<tr><th>MÃ£</th><th>User</th><th>Loáº¡i</th><th>Tiá»n</th><th>Tráº¡ng thÃ¡i</th><th>Xá»­ lÃ½</th></tr>
</thead>
<tbody id="orderList"></tbody>
</table>
</div>

</div>
</div>

<script>
/* ==== ADMIN ACCOUNT ==== */
const ADMIN_USER="Ngocbecon"
const ADMIN_PASS="manhmanh"

/* ==== LOGIN ==== */
function adminLogin(){
let u=adminUser.value.trim()
let p=adminPass.value
if(u===ADMIN_USER && p===ADMIN_PASS){
adminLoginBox()
}else{
alert("âŒ Sai tÃ i khoáº£n hoáº·c máº­t kháº©u")
}
}

function adminLoginBox(){
adminLogin.classList.add("hidden")
adminPanel.classList.remove("hidden")
loadAll()
}

/* ==== DATABASE ==== */
let DB=JSON.parse(localStorage.getItem("VIP_SHOP"))||{users:{},topups:[],orders:[]}
const save=()=>localStorage.setItem("VIP_SHOP",JSON.stringify(DB))

/* ==== USERS ==== */
function loadUsers(){
userList.innerHTML=""
Object.keys(DB.users).forEach(u=>{
userList.innerHTML+=`
<tr>
<td>${u}</td>
<td>${DB.users[u].money.toLocaleString()}Ä‘</td>
<td>
<input id="add_${u}" type="number" placeholder="Tiá»n">
<button class="ok" onclick="addMoney('${u}')">+</button>
</td>
</tr>`
})
}

function addMoney(u){
let v=+document.getElementById("add_"+u).value
if(!v) return
DB.users[u].money+=v
save();loadUsers()
}

/* ==== TOPUPS ==== */
function loadTopups(){
topupList.innerHTML=""
DB.topups.forEach((x,i)=>{
topupList.innerHTML+=`
<tr>
<td>${x.id}</td>
<td>${x.user}</td>
<td>${x.type}</td>
<td>${x.money}</td>
<td>${x.status}</td>
<td>
<button class="ok" onclick="approveTopup(${i})">âœ”</button>
<button class="no" onclick="rejectTopup(${i})">âœ–</button>
</td>
</tr>`
})
}

function approveTopup(i){
let x=DB.topups[i]
if(x.status!=="Chá» duyá»‡t") return
DB.users[x.user].money+=x.money
x.status="ÄÃ£ duyá»‡t"
save();loadAll()
}

function rejectTopup(i){
DB.topups[i].status="Há»§y"
save();loadAll()
}

/* ==== ORDERS ==== */
function loadOrders(){
orderList.innerHTML=""
DB.orders.forEach((x,i)=>{
orderList.innerHTML+=`
<tr>
<td>${x.id}</td>
<td>${x.user}</td>
<td>${x.type}</td>
<td>${x.money}</td>
<td>${x.status}</td>
<td>
<button class="warn" onclick="orderStatus(${i},'Äang xá»­ lÃ½')">â³</button>
<button class="ok" onclick="orderStatus(${i},'HoÃ n thÃ nh')">âœ”</button>
<button class="no" onclick="orderCancel(${i})">âœ–</button>
</td>
</tr>`
})
}

function orderStatus(i,s){
DB.orders[i].status=s
save();loadOrders()
}

function orderCancel(i){
let x=DB.orders[i]
DB.users[x.user].money+=x.money
x.status="Há»§y (HoÃ n tiá»n)"
save();loadAll()
}

/* ==== LOAD ALL ==== */
function loadAll(){
loadUsers()
loadTopups()
loadOrders()
}
</script>

</body>
</html>
