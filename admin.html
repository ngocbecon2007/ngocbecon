<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Admin Panel - Ng·ªçc Becon Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box;font-family:Arial}
body{margin:0;background:#0b0014;color:#fff}
header{
background:linear-gradient(90deg,#ff3f9e,#ff7ac8);
padding:16px;font-size:20px;font-weight:bold
}
.container{padding:20px;max-width:1200px;margin:auto}
.card{
background:#16001f;border-radius:14px;
padding:15px;margin-bottom:15px;
box-shadow:0 0 20px #ff3f9e33
}
h2{margin-top:0}
input,select{
width:100%;padding:9px;margin:5px 0;
border-radius:8px;border:none
}
button{
background:#ff3f9e;color:#fff;
border:none;padding:8px 14px;
border-radius:8px;font-weight:bold;
cursor:pointer
}
table{width:100%;border-collapse:collapse}
th,td{
padding:8px;border-bottom:1px solid #333;
text-align:left
}
th{background:#ff3f9e}
.hidden{display:none}
.success{color:#6dff9a}
.warn{color:#ffd36d}
</style>
</head>

<body>

<header>üõ† ADMIN PANEL ‚Äì NG·ªåC BECON SHOP</header>

<div class="container">

<!-- LOGIN -->
<div id="login" class="card">
<h2>üîê ƒêƒÉng nh·∫≠p Admin</h2>
<input id="au" placeholder="Admin user">
<input id="ap" type="password" placeholder="Admin password">
<button onclick="login()">ƒêƒÉng nh·∫≠p</button>
</div>

<!-- ADMIN -->
<div id="admin" class="hidden">

<!-- USER LIST -->
<div class="card">
<h2>üë• Danh s√°ch ng∆∞·ªùi d√πng</h2>
<table>
<thead>
<tr><th>User</th><th>S·ªë d∆∞</th><th>C·ªông ti·ªÅn</th></tr>
</thead>
<tbody id="users"></tbody>
</table>
</div>

<!-- N·∫†P CH·ªú DUY·ªÜT -->
<div class="card">
<h2>üí∞ Y√™u c·∫ßu n·∫°p ti·ªÅn</h2>
<table>
<thead>
<tr><th>User</th><th>S·ªë ti·ªÅn</th><th>H√†nh ƒë·ªông</th></tr>
</thead>
<tbody id="naps"></tbody>
</table>
</div>

<!-- TH·ªêNG K√ä -->
<div class="card">
<h2>üìä Th·ªëng k√™</h2>
<p>T·ªïng user: <b id="totalUser">0</b></p>
<p>T·ªïng ti·ªÅn h·ªá th·ªëng: <b id="totalMoney">0ƒë</b></p>
</div>

</div>
</div>

<script>
/* ==== CONFIG ADMIN ==== */
const ADMIN_USER = "admin";
const ADMIN_PASS = "123456";

/* ==== LOGIN ==== */
function login(){
if(au.value===ADMIN_USER && ap.value===ADMIN_PASS){
loginBox.style.display="none";
admin.classList.remove("hidden");
loadAll();
}else alert("‚ùå Sai t√†i kho·∫£n admin");
}

/* ==== LOAD USERS ==== */
function loadAll(){
users.innerHTML="";
naps.innerHTML="";
let total=0, money=0;

for(let k in localStorage){
if(k.startsWith("data_")){
let u=k.replace("data_","");
let d=JSON.parse(localStorage[k]);
total++; money+=d.balance||0;

users.innerHTML+=`
<tr>
<td>${u}</td>
<td>${(d.balance||0).toLocaleString()}ƒë</td>
<td>
<input id="add_${u}" placeholder="S·ªë ti·ªÅn">
<button onclick="addMoney('${u}')">+</button>
</td>
</tr>`;
}
}

let napArr=JSON.parse(localStorage.getItem("nap_orders")||"[]");
napArr.forEach((n,i)=>{
naps.innerHTML+=`
<tr>
<td>${n.user}</td>
<td>${Number(n.money).toLocaleString()}ƒë</td>
<td>
<button onclick="approve(${i})">Duy·ªát</button>
<button onclick="reject(${i})">X√≥a</button>
</td>
</tr>`;
});

totalUser.innerText=total;
totalMoney.innerText=money.toLocaleString()+"ƒë";
}

/* ==== C·ªòNG TI·ªÄN TH·ª¶ C√îNG ==== */
function addMoney(u){
let val=Number(document.getElementById("add_"+u).value);
if(!val) return;
let d=JSON.parse(localStorage.getItem("data_"+u));
d.balance=(d.balance||0)+val;
localStorage.setItem("data_"+u,JSON.stringify(d));
alert("‚úÖ ƒê√£ c·ªông ti·ªÅn cho "+u);
loadAll();
}

/* ==== DUY·ªÜT N·∫†P ==== */
function approve(i){
let arr=JSON.parse(localStorage.getItem("nap_orders")||"[]");
let n=arr[i];
let d=JSON.parse(localStorage.getItem("data_"+n.user));
d.balance=(d.balance||0)+Number(n.money);
localStorage.setItem("data_"+n.user,JSON.stringify(d));
arr.splice(i,1);
localStorage.setItem("nap_orders",JSON.stringify(arr));
alert("‚úî ƒê√£ duy·ªát n·∫°p");
loadAll();
}

function reject(i){
let arr=JSON.parse(localStorage.getItem("nap_orders")||"[]");
arr.splice(i,1);
localStorage.setItem("nap_orders",JSON.stringify(arr));
loadAll();
}

/* AUTO */
const loginBox=document.getElementById("login");
</script>

</body>
</html>
