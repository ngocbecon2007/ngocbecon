<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Admin â€¢ Ngá»c Becon</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
*{box-sizing:border-box;font-family:Arial}
body{margin:0;background:#f4f6fb}

/* login */
#login{
height:100vh;display:flex;
justify-content:center;align-items:center}
.loginBox{
background:#fff;padding:25px;
border-radius:16px;width:90%;
max-width:360px;
box-shadow:0 0 30px #ccc}
button{
padding:10px;border:none;
border-radius:8px;
background:#ff4f9a;color:#fff;
cursor:pointer}
input{width:100%;padding:10px;margin:6px 0}

/* admin */
#admin{display:none;padding:15px}
.box{
background:#fff;border-radius:14px;
padding:15px;margin-bottom:15px;
box-shadow:0 0 15px #ddd}
table{
width:100%;border-collapse:collapse;
font-size:13px}
th,td{
border:1px solid #ddd;
padding:6px;text-align:center}
th{background:#ff4f9a;color:#fff}
.small{font-size:12px;color:#666}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login">
  <div class="loginBox">
    <h3>ğŸ” ADMIN LOGIN</h3>
    <input id="pass" type="password" placeholder="Máº­t kháº©u admin">
    <button onclick="login()">ÄÄƒng nháº­p</button>
  </div>
</div>

<!-- ADMIN -->
<div id="admin">

<div class="box">
<h3>ğŸ“Š Thá»‘ng kÃª</h3>
<p>ğŸ’° Doanh thu: <b id="revenue">0Ä‘</b></p>
<p>ğŸ‘¤ Tá»•ng user: <b id="totalUser">0</b></p>
</div>

<div class="box">
<h3>ğŸ’³ ÄÆ¡n náº¡p tiá»n</h3>
<table>
<thead>
<tr>
<th>User</th><th>Sá»‘ tiá»n</th><th>HÃ nh Ä‘á»™ng</th>
</tr>
</thead>
<tbody id="napList"></tbody>
</table>
</div>

<div class="box">
<h3>ğŸ‘¥ NgÆ°á»i dÃ¹ng</h3>
<table>
<thead>
<tr>
<th>User</th><th>Sá»‘ dÆ°</th>
</tr>
</thead>
<tbody id="userList"></tbody>
</table>
</div>

</div>

<script>
const ADMIN_PASS="manhmanh"; // Ä‘á»•i náº¿u muá»‘n

function login(){
if(pass.value!==ADMIN_PASS) return alert("Sai máº­t kháº©u");
loginDiv.style.display="none";
admin.style.display="block";
load();
}

function load(){
loadUsers();
loadNap();
calc();
}

function loadUsers(){
userList.innerHTML="";
let count=0;
for(let k in localStorage){
if(k.startsWith("user_")){
count++;
let u=k.replace("user_","");
let d=JSON.parse(localStorage[k]);
userList.innerHTML+=`
<tr>
<td>${u}</td>
<td>${d.balance.toLocaleString()}Ä‘</td>
</tr>`;
}}
totalUser.innerText=count;
}

function loadNap(){
napList.innerHTML="";
let arr=JSON.parse(localStorage.getItem("nap_orders")||"[]");
arr.forEach((o,i)=>{
napList.innerHTML+=`
<tr>
<td>${o.user}</td>
<td>${o.money.toLocaleString()}Ä‘</td>
<td>
<button onclick="approve(${i})">Cá»™ng tiá»n</button>
</td>
</tr>`;
});
}

function approve(i){
let arr=JSON.parse(localStorage.getItem("nap_orders"));
let o=arr[i];
let d=JSON.parse(localStorage.getItem("user_"+o.user));
if(!d) return alert("User khÃ´ng tá»“n táº¡i");

d.balance+=o.money;
localStorage.setItem("user_"+o.user,JSON.stringify(d));

arr.splice(i,1);
localStorage.setItem("nap_orders",JSON.stringify(arr));

alert("âœ” ÄÃ£ cá»™ng tiá»n cho "+o.user);
load();
}

function calc(){
let total=0;
for(let k in localStorage){
if(k.startsWith("user_")){
let d=JSON.parse(localStorage[k]);
total+=d.balance;
}}
revenue.innerText=total.toLocaleString()+"Ä‘";
}
</script>

</body>
</html>
