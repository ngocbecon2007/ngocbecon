<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ğŸ‘‘ Admin Ngá»c Becon</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{--pink:#ff5fa8}
*{box-sizing:border-box;font-family:Segoe UI,Arial}
body{margin:0;background:radial-gradient(circle,#4a005f,#120015);color:#fff}
.hidden{display:none}

/* LOGIN */
.login{
max-width:380px;margin:120px auto;
background:#1a001f;padding:30px;
border-radius:26px;text-align:center
}
.login h2{color:#ff9ad5}
.login input,.login button{
width:100%;padding:14px;margin-top:14px;
border-radius:14px;border:none
}
.login button{
background:linear-gradient(90deg,#ff5fa8,#ff9ad5);
color:#fff;font-weight:800
}

/* HEADER */
header{
position:sticky;top:0;z-index:10;
background:linear-gradient(90deg,#ff5fa8,#ff9ad5);
padding:16px;font-weight:900;
display:flex;justify-content:space-between
}

/* LAYOUT */
.main{display:flex;height:calc(100vh - 64px)}
.sidebar{width:260px;background:#1a001f;padding:16px}
.sidebar button{
width:100%;padding:12px;margin-bottom:10px;
border:none;border-radius:14px;
background:#ff5fa8;color:#fff;font-weight:700
}
.content{flex:1;padding:20px;overflow:auto}

/* CARD */
.card{
background:#1a001f;padding:20px;
border-radius:24px;margin-bottom:20px
}
input,button{padding:12px;border-radius:12px;border:none}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #333;text-align:center}
th{color:#ff9ad5}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="login">
<h2>ğŸ‘‘ ADMIN NGá»ŒC BECON</h2>
<input id="l_user" placeholder="TÃ i khoáº£n">
<input id="l_pass" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ÄÄƒng nháº­p</button>
</div>

<div id="panel" class="hidden">
<header>
<span>ğŸ‘‘ ADMIN PANEL</span>
<span onclick="location.reload()" style="cursor:pointer">ğŸšª</span>
</header>

<div class="main">
<div class="sidebar">
<button onclick="show('users')">ğŸ‘¤ User</button>
<button onclick="show('addmoney')">ğŸ’° Cá»™ng tiá»n</button>
<button onclick="show('topups')">ğŸ’³ Náº¡p tiá»n</button>
<button onclick="show('orders')">ğŸ”¥ ÄÆ¡n cÃ y</button>
</div>

<div class="content">

<!-- USERS -->
<div id="users" class="card hidden">
<h3>ğŸ‘¤ Danh sÃ¡ch user</h3>
<table>
<thead><tr><th>User</th><th>Sá»‘ dÆ°</th></tr></thead>
<tbody id="uList"></tbody>
</table>
</div>

<!-- ADD MONEY -->
<div id="addmoney" class="card hidden">
<h3>ğŸ’° Cá»™ng tiá»n thá»§ cÃ´ng</h3>
<input id="addUser" placeholder="TÃªn user">
<input id="addAmount" type="number" placeholder="Sá»‘ tiá»n">
<button onclick="addMoney()">Cá»˜NG TIá»€N</button>
</div>

<!-- TOPUPS -->
<div id="topups" class="card hidden">
<h3>ğŸ’³ Duyá»‡t náº¡p tiá»n</h3>
<table>
<thead><tr><th>MÃ£</th><th>User</th><th>Tiá»n</th><th>Tráº¡ng thÃ¡i</th><th>Xá»­ lÃ½</th></tr></thead>
<tbody id="tList"></tbody>
</table>
</div>

<!-- ORDERS -->
<div id="orders" class="card hidden">
<h3>ğŸ”¥ ÄÆ¡n cÃ y</h3>
<table>
<thead><tr><th>MÃ£</th><th>User</th><th>Tiá»n</th><th>Tráº¡ng thÃ¡i</th><th>Xá»­ lÃ½</th></tr></thead>
<tbody id="oList"></tbody>
</table>
</div>

</div>
</div>
</div>

<script>
const ADMIN_USER="Ngocbecon"
const ADMIN_PASS="manhmanh"
let DB=JSON.parse(localStorage.getItem("SHOP"))||{users:{},topups:[],orders:[]}
const save=()=>localStorage.setItem("SHOP",JSON.stringify(DB))

function login(){
if(l_user.value===ADMIN_USER && l_pass.value===ADMIN_PASS){
loginBox.classList.add("hidden")
panel.classList.remove("hidden")
loadAll()
}else alert("Sai tÃ i khoáº£n admin")
}

function show(id){
["users","addmoney","topups","orders"].forEach(x=>document.getElementById(x).classList.add("hidden"))
document.getElementById(id).classList.remove("hidden")
}

function loadUsers(){
uList.innerHTML=""
Object.keys(DB.users).forEach(u=>{
uList.innerHTML+=`<tr><td>${u}</td><td>${DB.users[u].money}Ä‘</td></tr>`
})
}

/* Cá»˜NG TIá»€N */
function addMoney(){
let u=addUser.value
let m=Number(addAmount.value)
if(!DB.users[u]) return alert("User khÃ´ng tá»“n táº¡i")
if(m<=0) return alert("Sá»‘ tiá»n khÃ´ng há»£p lá»‡")
DB.users[u].money+=m
save();loadUsers()
alert("ÄÃ£ cá»™ng "+m+"Ä‘ cho "+u)
}

/* TOPUPS */
function loadTopups(){
tList.innerHTML=""
DB.topups.forEach((x,i)=>{
tList.innerHTML+=`
<tr>
<td>${x.id}</td><td>${x.user}</td><td>${x.money}</td>
<td>${x.status}</td>
<td>
<button onclick="okTopup(${i})">âœ”</button>
<button onclick="noTopup(${i})">âœ–</button>
</td>
</tr>`
})
}
function okTopup(i){
let x=DB.topups[i]
if(x.status!=="Chá» duyá»‡t")return
DB.users[x.user].money+=x.money
x.status="ÄÃ£ duyá»‡t"
save();loadAll()
}
function noTopup(i){DB.topups[i].status="Há»§y";save();loadTopups()}

/* ORDERS */
function loadOrders(){
oList.innerHTML=""
DB.orders.forEach((x,i)=>{
oList.innerHTML+=`
<tr>
<td>${x.id}</td><td>${x.user}</td><td>${x.money}</td>
<td>${x.status}</td>
<td>
<button onclick="done(${i})">âœ”</button>
<button onclick="cancel(${i})">âœ–</button>
</td>
</tr>`
})
}
function done(i){DB.orders[i].status="HoÃ n thÃ nh";save();loadOrders()}
function cancel(i){
let x=DB.orders[i]
DB.users[x.user].money+=x.money
x.status="HoÃ n tiá»n"
save();loadAll()
}

function loadAll(){loadUsers();loadTopups();loadOrders()}
</script>

</body>
</html>
