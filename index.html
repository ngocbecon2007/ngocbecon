<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Ng·ªçc Becon Shop</title>

<meta name="viewport"
content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}
html,body{width:100%;height:100%;overflow:hidden;background:#0e0014}
body{display:flex;justify-content:center;align-items:center;color:#fff}

/* ‚ùÑÔ∏è CANVAS TUY·∫æT */
#fx{position:fixed;inset:0;z-index:-2}

/* üé¨ INTRO */
#intro{
  position:fixed;inset:0;
  background:radial-gradient(circle,#6a007a,#120016);
  z-index:99;
  display:flex;
  align-items:center;
  justify-content:center;
}
#intro video{
  position:absolute;
  inset:0;
  width:100%;height:100%;
  object-fit:cover;
  opacity:0;
  transition:.6s;
}
#loading{
  text-align:center;
  z-index:2;
}
#percent{
  font-size:46px;
  font-weight:700;
  color:#ff77c8;
  text-shadow:0 0 25px #ff4fa3;
}
#start{
  margin-top:18px;
  padding:12px 36px;
  border:none;
  border-radius:999px;
  background:linear-gradient(135deg,#ff4fa3,#ff8ad1);
  color:#fff;
  font-weight:600;
  box-shadow:0 0 30px #ff4fa3;
}

/* üå´Ô∏è BLUR TRANSITION */
.fade{
  position:fixed;inset:0;
  backdrop-filter:blur(30px);
  background:rgba(0,0,0,.45);
  z-index:50;
  opacity:0;
  pointer-events:none;
  transition:.6s;
}

/* üíé CARD */
.card{
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(22px);
  padding:44px 36px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 40px 90px rgba(255,0,150,.45);
  display:none;
}

/* üê∞ AVATAR */
.avatar-wrap{
  width:160px;height:160px;
  margin:0 auto 22px;
  padding:6px;
  border-radius:50%;
  position:relative;
}
.avatar-wrap::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:50%;
  filter:blur(10px);
  background:conic-gradient(#ff4fa3,#ff77ff,#4fdcff,#ff4fa3);
  z-index:-1;
}
.avatar{
  width:100%;height:100%;
  border-radius:50%;
  background:url("avatar.jpg") center/cover no-repeat;
  box-shadow:0 0 40px #ff4fa3;
}

/* TEXT */
.logo{font-size:24px;font-weight:700}
.logo span{color:#ff77c8}
.slogan{font-size:13px;opacity:.85;margin:8px 0 28px}

/* BUTTON */
.btn{
  padding:14px 42px;
  border:none;
  border-radius:999px;
  background:linear-gradient(135deg,#ff4fa3,#ff8ad1);
  color:#fff;
  font-weight:600;
  box-shadow:0 0 35px #ff4fa3;
  transition:.4s cubic-bezier(.25,1.6,.4,1);
}
.btn:hover{transform:scale(1.1)}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<!-- INTRO -->
<div id="intro">
  <div id="loading">
    <div id="percent">0%</div>
    <button id="start">CH·∫†M ƒê·ªÇ V√ÄO</button>
  </div>
  <video id="introVideo" muted playsinline>
    <source src="video.mp4" type="video/mp4">
  </video>
</div>

<div class="fade" id="fade"></div>

<div class="card" id="card">
  <div class="avatar-wrap" id="avatarWrap">
    <div class="avatar"></div>
  </div>
  <div class="logo">üíé <span>NG·ªåC BECON</span> SHOP</div>
  <div class="slogan">Shop d·ªãch v·ª• game uy t√≠n ‚Äì nhanh ‚Äì an to√†n</div>
  <button class="btn" id="enter">üöÄ V√ÄO SHOP</button>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
/* üö´ CH·∫∂N ZOOM */
document.addEventListener('gesturestart',e=>e.preventDefault());
document.addEventListener('dblclick',e=>e.preventDefault());

/* üî¢ LOADING % */
let p=0;
const percent=document.getElementById("percent");
const timer=setInterval(()=>{
  if(p<100){p++;percent.innerText=p+"%";}
},25);

/* üé¨ START INTRO */
const intro=document.getElementById("intro");
const video=document.getElementById("introVideo");
const card=document.getElementById("card");
document.getElementById("start").onclick=()=>{
  clearInterval(timer);
  video.style.opacity=1;
  video.play().catch(()=>{});
  setTimeout(()=>{
    intro.style.opacity=0;
    setTimeout(()=>intro.remove(),600);
    card.style.display="block";
  },3000);
};

/* ‚ùÑÔ∏è TUY·∫æT / M∆ØA SAO */
const c=document.getElementById("fx"),ctx=c.getContext("2d");
let w,h,pf=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight}
resize();onresize=resize;
for(let i=0;i<120;i++)pf.push({x:Math.random()*w,y:Math.random()*h,s:Math.random()*2});
(function draw(){
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle="white";
  pf.forEach(f=>{
    ctx.globalAlpha=Math.random();
    ctx.fillRect(f.x,f.y,f.s,f.s);
    f.y+=0.4;
    if(f.y>h){f.y=0;f.x=Math.random()*w}
  });
  requestAnimationFrame(draw);
})();

/* üéµ BPM SYNC */
const audio=document.getElementById("music");
const AC=new (window.AudioContext||webkitAudioContext)();
const src=AC.createMediaElementSource(audio);
const analyser=AC.createAnalyser();
src.connect(analyser);analyser.connect(AC.destination);
analyser.fftSize=64;
const data=new Uint8Array(analyser.frequencyBinCount);
const ring=document.querySelector(".avatar-wrap");

function beat(){
  analyser.getByteFrequencyData(data);
  let v=data[6]*2;
  ring.style.boxShadow=`0 0 ${v}px hsl(${v*2},100%,70%)`;
  requestAnimationFrame(beat);
}
document.body.addEventListener("click",()=>{
  AC.resume(); audio.play();
},{once:true});
beat();

/* üí• CLICK AVATAR */
document.getElementById("avatarWrap").onclick=e=>{
  e.currentTarget.animate(
    [{transform:"scale(1)"},{transform:"scale(.94)"},{transform:"scale(1)"}],
    {duration:260}
  );
};

/* üì± iOS BLUR TRANSITION */
document.getElementById("enter").onclick=()=>{
  const fade=document.getElementById("fade");
  fade.style.opacity=1;
  setTimeout(()=>location.href="shop.html",600);
};
</script>

</body>
</html>
